# BashScrapper

Основной скрипт, `./pages.sh` используется для загрузки галерей и информации о них.

Например, вызов `./pages.sh 1 2 3` загружает галереи 1, 2 и 3 соответственно.

Если требуется загрузить только информацию, можно использовать флаг `-I`.

Для массовой загрузки рекомендуется использовать встроенную утилиту `seq`. например: `./pages -I $(seq $(./last_id.sh) 10000)`. Скрипт `last_id.sh` возвращает номер пропущенной галереи.

Вся информация о провалившихся по той или иной причине загрузках сохраняется в лог `failed_to_load.txt`. Он используется скриптом `recheck_missing.sh` для повторной попытки загрузить недостающие данные.

Для обработки данных приведены в качестве примера програмы `concatenate_all_info.sh` (для сбора разроненных данных в один файл, для более быстрой последующей обработки), `process_info.sh` и `line_reader.c`.

В ходе загрузки `pages.sh` создаёт файлы вида `info/123456.txt` с только лишь информацией и файлы вида
`titles/12/34/123456.info` и `titles/12/34/29.png` (если не указан флаг -I). Во время загрузки используется вспомогательная папка tmp, поэтому в случае прерывания загрузки рекомендуется использовать скрипт `load_rest_from_tmp.sh` для дозагрузки недостающих файлов. На него и скрипт `recheck_missing.sh` также распространяется действие флага `-I`
